import{r as c,j as e,L as N,S as l}from"./app-DaFhqnt1.js";import{A as C}from"./app-layout-BJo4HRln.js";import{B as i}from"./button-BBxU2yUL.js";import{D as k,a as M,b as v,c as w,d as D,e as F}from"./dialog-CPd5wp-A.js";import{I as L}from"./input-BkMnVGK0.js";import{T as E,t}from"./index-C_6ag8_Z.js";import{M as I,a as T,b as _,c as A,d as x,e as V}from"./menubar-CKPwkfzT.js";import{C as Y}from"./card-CDr_v-Ce.js";import{c as n}from"./createLucideIcon-opvJz7gw.js";import{L as $}from"./loader-circle-xEwGxVTg.js";import"./index-lKoB8D5s.js";import"./utils-jAU0Cazi.js";import"./index-BwoZdlkn.js";import"./index-C6yG6QMm.js";import"./tooltip-BznaNYEu.js";import"./index-BX3AM_ru.js";import"./floating-ui.react-dom-znpqpJ5Y.js";import"./avatar-DeXX1M7l.js";import"./app-logo-icon-Dz3t6snP.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],H=n("EllipsisVertical",B);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"m9 13 3-3 3 3",key:"1pxg3c"}]],q=n("FolderUp",U);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],P=n("Trash",O),R=[{title:"School Year",href:"#"}];function me({schoolYears:p}){const[u,r]=c.useState(!1),[d,m]=c.useState({name:""}),[h,o]=c.useState(!1),j=()=>{m({name:""}),r(!0)},f=s=>{confirm("Are you sure you want to delete this school year?")&&l.delete(`/admin/school-year/${s}`,{onSuccess:()=>{t.success("School year deleted successfully")},onError:a=>{t.error(a.error||"Failed to delete category")}})},g=s=>{s.preventDefault(),o(!0),l.post("/admin/school-year",d,{onSuccess:()=>{o(!1),r(!1),t.success("School year created successfully")},onError:a=>{o(!1),t.error(a.name||"Failed to create school year")}})},y=s=>{const{name:a,value:b}=s.target;m(S=>({...S,[a]:b}))};return e.jsxs(C,{breadcrumbs:R,children:[e.jsx(N,{title:"School Year"}),e.jsx(E,{richColors:!0,closeButton:!0,position:"top-right"}),e.jsxs("div",{className:"flex flex-col gap-4 p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"School Years"}),e.jsx(i,{onClick:j,children:"Create new"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:p.map(s=>e.jsxs(Y,{className:"flex flex-col justify-between border border-gray-200 dark:border-gray-700 p-4 shadow-sm",children:[e.jsx("div",{children:e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:s.name})}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx(I,{children:e.jsxs(T,{children:[e.jsx(_,{className:"cursor-pointer",children:e.jsx(H,{className:"text-gray-500"})}),e.jsxs(A,{align:"end",children:[e.jsxs(x,{className:"text-blue-500",onClick:()=>l.get(`/admin/school-year/${s.id}`),children:[e.jsx(q,{className:"mr-2 h-4 w-4"})," Manage Setup"]}),e.jsx(V,{}),e.jsxs(x,{onClick:()=>f(s.id),className:"text-red-500",children:[e.jsx(P,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})})})]},s.id))}),e.jsx(k,{open:u,onOpenChange:r,children:e.jsxs(M,{className:"sm:max-w-[425px]",children:[e.jsxs(v,{children:[e.jsx(w,{children:"School Year"}),e.jsx(D,{children:"Create a new school year."})]}),e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsx("div",{className:"space-y-2",children:e.jsx(L,{id:"name",name:"name",value:d.name,onChange:y,placeholder:"e.g. 2023-2024",required:!0})}),e.jsxs(F,{children:[e.jsx(i,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"}),e.jsx(i,{type:"submit",disabled:h,children:h?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"mr-2 h-4 w-4 animate-spin"})," Creating..."]}):"Create"})]})]})]})})]})]})}export{me as default};
