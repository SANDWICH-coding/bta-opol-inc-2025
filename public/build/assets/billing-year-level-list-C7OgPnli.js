import{j as t,r as n,S as je,L as De,b as Ae}from"./app-CWAbBtiy.js";import{R as Le,P as _e,O as Oe,C as Fe,c as ke,A as ze,G as Pe}from"./app-layout-C3fil_2L.js";import{C as pe,a as xe,b as ge,c as ve}from"./card-CYrEytid.js";import{B as V}from"./button-DlUtIcJZ.js";import{R as Be,C as Ge,a as qe}from"./index-U7L4k0d7.js";import{P as M,b as G}from"./index-Cr1AGP8Y.js";import{u as F}from"./tooltip-CWUIn_wR.js";import{c as z}from"./utils-jAU0Cazi.js";import{S as Ke}from"./search-BL6HKfXF.js";import{A as Te,a as Ve,b as He}from"./avatar-CnUWxqXv.js";import{B as Ue}from"./badge-CmXYSy0S.js";import{C as We}from"./chevron-down-DXW6UHIi.js";import{D as Je,a as Xe,b as Qe,c as Ze}from"./dialog-iGmtdlQw.js";import{L as Ye}from"./loader-circle-DQV2ftZ6.js";import{c as se}from"./app-logo-icon-DXUcpSx7.js";import"./index-B8rauVpy.js";import"./index-DuKB3EkD.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],tt=se("CalendarDays",et);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 18h.01",key:"h775k"}]],at=se("HardDriveDownload",rt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],nt=se("UsersRound",lt);function st({...e}){return t.jsx(Be,{"data-slot":"collapsible",...e})}function it({...e}){return t.jsx(Ge,{"data-slot":"collapsible-trigger",...e})}function ot({...e}){return t.jsx(qe,{"data-slot":"collapsible-content",...e})}var be=1,ct=.9,dt=.8,ut=.17,te=.1,re=.999,mt=.9999,ft=.99,ht=/[\\\/_+.#"@\[\(\{&]/,pt=/[\\\/_+.#"@\[\(\{&]/g,xt=/[\s-]/,Ne=/[\s-]/g;function le(e,l,r,p,o,c,u){if(c===l.length)return o===e.length?be:ft;var h=`${o},${c}`;if(u[h]!==void 0)return u[h];for(var f=p.charAt(c),s=r.indexOf(f,o),x=0,m,N,j,I;s>=0;)m=le(e,l,r,p,s+1,c+1,u),m>x&&(s===o?m*=be:ht.test(e.charAt(s-1))?(m*=dt,j=e.slice(o,s-1).match(pt),j&&o>0&&(m*=Math.pow(re,j.length))):xt.test(e.charAt(s-1))?(m*=ct,I=e.slice(o,s-1).match(Ne),I&&o>0&&(m*=Math.pow(re,I.length))):(m*=ut,o>0&&(m*=Math.pow(re,s-o))),e.charAt(s)!==l.charAt(c)&&(m*=mt)),(m<te&&r.charAt(s-1)===p.charAt(c+1)||p.charAt(c+1)===p.charAt(c)&&r.charAt(s-1)!==p.charAt(c))&&(N=le(e,l,r,p,s+1,c+2,u),N*te>m&&(m=N*te)),m>x&&(x=m),s=r.indexOf(f,s+1);return u[h]=x,x}function ye(e){return e.toLowerCase().replace(Ne," ")}function gt(e,l,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,le(e,l,ye(e),ye(l),0,0,{})}var B='[cmdk-group=""]',ae='[cmdk-group-items=""]',vt='[cmdk-group-heading=""]',Ce='[cmdk-item=""]',we=`${Ce}:not([aria-disabled="true"])`,ne="cmdk-item-select",_="data-value",bt=(e,l,r)=>gt(e,l,r),Se=n.createContext(void 0),q=()=>n.useContext(Se),Ee=n.createContext(void 0),ie=()=>n.useContext(Ee),Ie=n.createContext(void 0),Re=n.forwardRef((e,l)=>{let r=O(()=>{var a,d;return{search:"",value:(d=(a=e.value)!=null?a:e.defaultValue)!=null?d:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),p=O(()=>new Set),o=O(()=>new Map),c=O(()=>new Map),u=O(()=>new Set),h=Me(e),{label:f,children:s,value:x,onValueChange:m,filter:N,shouldFilter:j,loop:I,disablePointerSelection:b=!1,vimBindings:E=!0,...K}=e,U=F(),oe=F(),W=F(),$=n.useRef(null),w=Mt();D(()=>{if(x!==void 0){let a=x.trim();r.current.value=a,C.emit()}},[x]),D(()=>{w(6,de)},[]);let C=n.useMemo(()=>({subscribe:a=>(u.current.add(a),()=>u.current.delete(a)),snapshot:()=>r.current,setState:(a,d,g)=>{var i,v,y,S;if(!Object.is(r.current[a],d)){if(r.current[a]=d,a==="search")Z(),X(),w(1,Q);else if(a==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let k=document.getElementById(W);k?k.focus():(i=document.getElementById(U))==null||i.focus()}if(w(7,()=>{var k;r.current.selectedItemId=(k=L())==null?void 0:k.id,C.emit()}),g||w(5,de),((v=h.current)==null?void 0:v.value)!==void 0){let k=d??"";(S=(y=h.current).onValueChange)==null||S.call(y,k);return}}C.emit()}},emit:()=>{u.current.forEach(a=>a())}}),[]),J=n.useMemo(()=>({value:(a,d,g)=>{var i;d!==((i=c.current.get(a))==null?void 0:i.value)&&(c.current.set(a,{value:d,keywords:g}),r.current.filtered.items.set(a,ce(d,g)),w(2,()=>{X(),C.emit()}))},item:(a,d)=>(p.current.add(a),d&&(o.current.has(d)?o.current.get(d).add(a):o.current.set(d,new Set([a]))),w(3,()=>{Z(),X(),r.current.value||Q(),C.emit()}),()=>{c.current.delete(a),p.current.delete(a),r.current.filtered.items.delete(a);let g=L();w(4,()=>{Z(),(g==null?void 0:g.getAttribute("id"))===a&&Q(),C.emit()})}),group:a=>(o.current.has(a)||o.current.set(a,new Set),()=>{c.current.delete(a),o.current.delete(a)}),filter:()=>h.current.shouldFilter,label:f||e["aria-label"],getDisablePointerSelection:()=>h.current.disablePointerSelection,listId:U,inputId:W,labelId:oe,listInnerRef:$}),[]);function ce(a,d){var g,i;let v=(i=(g=h.current)==null?void 0:g.filter)!=null?i:bt;return a?v(a,r.current.search,d):0}function X(){if(!r.current.search||h.current.shouldFilter===!1)return;let a=r.current.filtered.items,d=[];r.current.filtered.groups.forEach(i=>{let v=o.current.get(i),y=0;v.forEach(S=>{let k=a.get(S);y=Math.max(k,y)}),d.push([i,y])});let g=$.current;P().sort((i,v)=>{var y,S;let k=i.getAttribute("id"),T=v.getAttribute("id");return((y=a.get(T))!=null?y:0)-((S=a.get(k))!=null?S:0)}).forEach(i=>{let v=i.closest(ae);v?v.appendChild(i.parentElement===v?i:i.closest(`${ae} > *`)):g.appendChild(i.parentElement===g?i:i.closest(`${ae} > *`))}),d.sort((i,v)=>v[1]-i[1]).forEach(i=>{var v;let y=(v=$.current)==null?void 0:v.querySelector(`${B}[${_}="${encodeURIComponent(i[0])}"]`);y==null||y.parentElement.appendChild(y)})}function Q(){let a=P().find(g=>g.getAttribute("aria-disabled")!=="true"),d=a==null?void 0:a.getAttribute(_);C.setState("value",d||void 0)}function Z(){var a,d,g,i;if(!r.current.search||h.current.shouldFilter===!1){r.current.filtered.count=p.current.size;return}r.current.filtered.groups=new Set;let v=0;for(let y of p.current){let S=(d=(a=c.current.get(y))==null?void 0:a.value)!=null?d:"",k=(i=(g=c.current.get(y))==null?void 0:g.keywords)!=null?i:[],T=ce(S,k);r.current.filtered.items.set(y,T),T>0&&v++}for(let[y,S]of o.current)for(let k of S)if(r.current.filtered.items.get(k)>0){r.current.filtered.groups.add(y);break}r.current.filtered.count=v}function de(){var a,d,g;let i=L();i&&(((a=i.parentElement)==null?void 0:a.firstChild)===i&&((g=(d=i.closest(B))==null?void 0:d.querySelector(vt))==null||g.scrollIntoView({block:"nearest"})),i.scrollIntoView({block:"nearest"}))}function L(){var a;return(a=$.current)==null?void 0:a.querySelector(`${Ce}[aria-selected="true"]`)}function P(){var a;return Array.from(((a=$.current)==null?void 0:a.querySelectorAll(we))||[])}function Y(a){let d=P()[a];d&&C.setState("value",d.getAttribute(_))}function ee(a){var d;let g=L(),i=P(),v=i.findIndex(S=>S===g),y=i[v+a];(d=h.current)!=null&&d.loop&&(y=v+a<0?i[i.length-1]:v+a===i.length?i[0]:i[v+a]),y&&C.setState("value",y.getAttribute(_))}function ue(a){let d=L(),g=d==null?void 0:d.closest(B),i;for(;g&&!i;)g=a>0?It(g,B):Rt(g,B),i=g==null?void 0:g.querySelector(we);i?C.setState("value",i.getAttribute(_)):ee(a)}let me=()=>Y(P().length-1),fe=a=>{a.preventDefault(),a.metaKey?me():a.altKey?ue(1):ee(1)},he=a=>{a.preventDefault(),a.metaKey?Y(0):a.altKey?ue(-1):ee(-1)};return n.createElement(M.div,{ref:l,tabIndex:-1,...K,"cmdk-root":"",onKeyDown:a=>{var d;(d=K.onKeyDown)==null||d.call(K,a);let g=a.nativeEvent.isComposing||a.keyCode===229;if(!(a.defaultPrevented||g))switch(a.key){case"n":case"j":{E&&a.ctrlKey&&fe(a);break}case"ArrowDown":{fe(a);break}case"p":case"k":{E&&a.ctrlKey&&he(a);break}case"ArrowUp":{he(a);break}case"Home":{a.preventDefault(),Y(0);break}case"End":{a.preventDefault(),me();break}case"Enter":{a.preventDefault();let i=L();if(i){let v=new Event(ne);i.dispatchEvent(v)}}}}},n.createElement("label",{"cmdk-label":"",htmlFor:J.inputId,id:J.labelId,style:Dt},f),H(e,a=>n.createElement(Ee.Provider,{value:C},n.createElement(Se.Provider,{value:J},a))))}),yt=n.forwardRef((e,l)=>{var r,p;let o=F(),c=n.useRef(null),u=n.useContext(Ie),h=q(),f=Me(e),s=(p=(r=f.current)==null?void 0:r.forceMount)!=null?p:u==null?void 0:u.forceMount;D(()=>{if(!s)return h.item(o,u==null?void 0:u.id)},[s]);let x=$e(o,c,[e.value,e.children,c],e.keywords),m=ie(),N=R(w=>w.value&&w.value===x.current),j=R(w=>s||h.filter()===!1?!0:w.search?w.filtered.items.get(o)>0:!0);n.useEffect(()=>{let w=c.current;if(!(!w||e.disabled))return w.addEventListener(ne,I),()=>w.removeEventListener(ne,I)},[j,e.onSelect,e.disabled]);function I(){var w,C;b(),(C=(w=f.current).onSelect)==null||C.call(w,x.current)}function b(){m.setState("value",x.current,!0)}if(!j)return null;let{disabled:E,value:K,onSelect:U,forceMount:oe,keywords:W,...$}=e;return n.createElement(M.div,{ref:G(c,l),...$,id:o,"cmdk-item":"",role:"option","aria-disabled":!!E,"aria-selected":!!N,"data-disabled":!!E,"data-selected":!!N,onPointerMove:E||h.getDisablePointerSelection()?void 0:b,onClick:E?void 0:I},e.children)}),wt=n.forwardRef((e,l)=>{let{heading:r,children:p,forceMount:o,...c}=e,u=F(),h=n.useRef(null),f=n.useRef(null),s=F(),x=q(),m=R(j=>o||x.filter()===!1?!0:j.search?j.filtered.groups.has(u):!0);D(()=>x.group(u),[]),$e(u,h,[e.value,e.heading,f]);let N=n.useMemo(()=>({id:u,forceMount:o}),[o]);return n.createElement(M.div,{ref:G(h,l),...c,"cmdk-group":"",role:"presentation",hidden:m?void 0:!0},r&&n.createElement("div",{ref:f,"cmdk-group-heading":"","aria-hidden":!0,id:s},r),H(e,j=>n.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?s:void 0},n.createElement(Ie.Provider,{value:N},j))))}),jt=n.forwardRef((e,l)=>{let{alwaysRender:r,...p}=e,o=n.useRef(null),c=R(u=>!u.search);return!r&&!c?null:n.createElement(M.div,{ref:G(o,l),...p,"cmdk-separator":"",role:"separator"})}),kt=n.forwardRef((e,l)=>{let{onValueChange:r,...p}=e,o=e.value!=null,c=ie(),u=R(s=>s.search),h=R(s=>s.selectedItemId),f=q();return n.useEffect(()=>{e.value!=null&&c.setState("search",e.value)},[e.value]),n.createElement(M.input,{ref:l,...p,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":f.listId,"aria-labelledby":f.labelId,"aria-activedescendant":h,id:f.inputId,type:"text",value:o?e.value:u,onChange:s=>{o||c.setState("search",s.target.value),r==null||r(s.target.value)}})}),Nt=n.forwardRef((e,l)=>{let{children:r,label:p="Suggestions",...o}=e,c=n.useRef(null),u=n.useRef(null),h=R(s=>s.selectedItemId),f=q();return n.useEffect(()=>{if(u.current&&c.current){let s=u.current,x=c.current,m,N=new ResizeObserver(()=>{m=requestAnimationFrame(()=>{let j=s.offsetHeight;x.style.setProperty("--cmdk-list-height",j.toFixed(1)+"px")})});return N.observe(s),()=>{cancelAnimationFrame(m),N.unobserve(s)}}},[]),n.createElement(M.div,{ref:G(c,l),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":h,"aria-label":p,id:f.listId},H(e,s=>n.createElement("div",{ref:G(u,f.listInnerRef),"cmdk-list-sizer":""},s)))}),Ct=n.forwardRef((e,l)=>{let{open:r,onOpenChange:p,overlayClassName:o,contentClassName:c,container:u,...h}=e;return n.createElement(Le,{open:r,onOpenChange:p},n.createElement(_e,{container:u},n.createElement(Oe,{"cmdk-overlay":"",className:o}),n.createElement(Fe,{"aria-label":e.label,"cmdk-dialog":"",className:c},n.createElement(Re,{ref:l,...h}))))}),St=n.forwardRef((e,l)=>R(r=>r.filtered.count===0)?n.createElement(M.div,{ref:l,...e,"cmdk-empty":"",role:"presentation"}):null),Et=n.forwardRef((e,l)=>{let{progress:r,children:p,label:o="Loading...",...c}=e;return n.createElement(M.div,{ref:l,...c,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},H(e,u=>n.createElement("div",{"aria-hidden":!0},u)))}),A=Object.assign(Re,{List:Nt,Item:yt,Input:kt,Group:wt,Separator:jt,Dialog:Ct,Empty:St,Loading:Et});function It(e,l){let r=e.nextElementSibling;for(;r;){if(r.matches(l))return r;r=r.nextElementSibling}}function Rt(e,l){let r=e.previousElementSibling;for(;r;){if(r.matches(l))return r;r=r.previousElementSibling}}function Me(e){let l=n.useRef(e);return D(()=>{l.current=e}),l}var D=typeof window>"u"?n.useEffect:n.useLayoutEffect;function O(e){let l=n.useRef();return l.current===void 0&&(l.current=e()),l}function R(e){let l=ie(),r=()=>e(l.snapshot());return n.useSyncExternalStore(l.subscribe,r,r)}function $e(e,l,r,p=[]){let o=n.useRef(),c=q();return D(()=>{var u;let h=(()=>{var s;for(let x of r){if(typeof x=="string")return x.trim();if(typeof x=="object"&&"current"in x)return x.current?(s=x.current.textContent)==null?void 0:s.trim():o.current}})(),f=p.map(s=>s.trim());c.value(e,h,f),(u=l.current)==null||u.setAttribute(_,h),o.current=h}),o}var Mt=()=>{let[e,l]=n.useState(),r=O(()=>new Map);return D(()=>{r.current.forEach(p=>p()),r.current=new Map},[e]),(p,o)=>{r.current.set(p,o),l({})}};function $t(e){let l=e.type;return typeof l=="function"?l(e.props):"render"in l?l.render(e.props):e}function H({asChild:e,children:l},r){return e&&n.isValidElement(l)?n.cloneElement($t(l),{ref:l.ref},r(l.props.children)):r(l)}var Dt={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function At({className:e,...l}){return t.jsx(A,{"data-slot":"command",className:z("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...l})}function Lt({className:e,...l}){return t.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[t.jsx(Ke,{className:"size-4 shrink-0 opacity-50"}),t.jsx(A.Input,{"data-slot":"command-input",className:z("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...l})]})}function _t({className:e,...l}){return t.jsx(A.List,{"data-slot":"command-list",className:z("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...l})}function Ot({...e}){return t.jsx(A.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function Ft({className:e,...l}){return t.jsx(A.Group,{"data-slot":"command-group",className:z("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...l})}function zt({className:e,...l}){return t.jsx(A.Separator,{"data-slot":"command-separator",className:z("bg-border -mx-1 h-px",e),...l})}function Pt({className:e,...l}){return t.jsx(A.Item,{"data-slot":"command-item",className:z("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...l})}function Bt({options:e,placeholder:l="Search...",className:r=""}){const[p,o]=n.useState(null),[c,u]=n.useState(!0),h=e.reduce((f,s)=>{const x=s.group||"Options";return f[x]||(f[x]=[]),f[x].push(s),f},{});return n.useEffect(()=>{const f=()=>{window.innerWidth<640&&u(!1)};return f(),window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]),t.jsxs(st,{open:c,onOpenChange:u,className:"w-full",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-lg font-semibold",children:"Select a student"}),t.jsx(it,{asChild:!0,children:t.jsx(V,{variant:"ghost",size:"sm",className:"p-0",children:c?t.jsx(We,{className:"w-4 h-4"}):t.jsx(ke,{className:"w-4 h-4"})})})]}),t.jsx(ot,{children:t.jsxs(At,{className:`w-full h-full rounded-lg border shadow-md ${r}`,children:[t.jsx(Lt,{placeholder:l}),t.jsxs(_t,{className:"w-full max-h-[543px] overflow-y-auto",children:[t.jsx(Ot,{children:"No results found."}),Object.entries(h).map(([f,s],x)=>t.jsxs("div",{children:[x>0&&t.jsx(zt,{}),t.jsx(Ft,{heading:f,children:s.map(m=>t.jsxs(Pt,{onSelect:()=>{o(m.value),m.route&&je.get(m.route)},className:"flex items-center justify-between gap-3 px-3 py-2",children:[t.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[m.avatar&&t.jsxs(Te,{className:"w-6 h-6 shrink-0",children:[t.jsx(Ve,{src:m.avatar,alt:m.label}),t.jsx(He,{children:m.label[0]})]}),t.jsx("span",{className:"truncate",children:m.label})]}),m.badge&&t.jsx(Ue,{variant:"outline",className:"text-xs shrink-0",children:m.badge})]},m.value))})]},f))]})]})})]})}function lr({schoolYear:e,students:l,overview:r,overall:p}){n.useEffect(()=>{window.scrollTo({top:0,behavior:"instant"})},[]);const c=new Date().toLocaleDateString("en-PH",{month:"long",day:"numeric",year:"numeric"}),[u,h]=n.useState(!1),[f,s]=n.useState(!1),[x,m]=n.useState([]),[N,j]=n.useState(!1),I=async()=>{h(!0),s(!0),j(!1),m([]);try{const b=await Ae.post(`/billing/generate-soa/all-student/${e.id}`);m(b.data.results);const E=b.data.download_url;E&&(window.location.href=E),j(!0)}catch{m([{student:"Error",status:"error",message:"Something went wrong."}]),j(!0)}finally{s(!1)}};return t.jsxs(ze,{breadcrumbs:[{title:"Billing",href:"/billing/"},{title:`${e.name}`,href:"#"}],children:[t.jsx(De,{title:`${e.name}`}),t.jsx(Je,{open:u,onOpenChange:h,children:t.jsxs(Xe,{className:"max-w-md sm:max-w-xl",children:[t.jsx(Qe,{children:t.jsx(Ze,{children:"Generating SOAs"})}),f&&t.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-4",children:[t.jsx(Ye,{className:"animate-spin w-4 h-4"}),"Please wait while SOAs are being generated..."]}),t.jsx("div",{className:"bg-muted p-3 rounded-md max-h-72 overflow-y-auto space-y-1 text-sm",children:x.map((b,E)=>t.jsx("div",{children:b.status==="success"?t.jsxs("span",{className:"text-green-600",children:["✅ ",b.student]}):t.jsxs("span",{className:"text-red-600",children:["❌ ",b.student," - ",b.message]})},E))}),N&&t.jsx("div",{className:"text-right mt-4",children:t.jsx(V,{onClick:()=>h(!1),children:"Close"})})]})}),t.jsxs("div",{className:"p-4 space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[t.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:e.name}),t.jsxs(V,{variant:"btapinky",size:"lg",onClick:I,disabled:f,className:"w-full sm:w-auto flex items-center gap-2",children:[t.jsx(at,{className:"w-4 h-4"}),f?"Generating...":"Generate SOA"]})]}),t.jsxs(pe,{className:"w-full mb-6 bg-primary text-white dark:bg-white dark:text-black shadow-md",children:[t.jsx(xe,{children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs(ge,{className:"text-white dark:text-black flex items-center gap-2",children:[t.jsx(tt,{className:"w-5 h-5"}),"Today's transaction ",t.jsxs("span",{className:"font-normal",children:["(",c,")"]})]})})}),t.jsxs(ve,{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-5 gap-4 mt-2",children:[t.jsxs("div",{className:"flex justify-between items-center text-sm sm:flex-col sm:items-start sm:gap-1",children:[t.jsx("span",{className:"opacity-80",children:"OR Issued"}),t.jsx("span",{className:"text-2xl font-bold sm:mt-1",children:r.or_issued===0?"-":r.or_issued.toLocaleString()})]}),t.jsxs("div",{className:"flex justify-between items-center text-sm sm:flex-col sm:items-start sm:gap-1",children:[t.jsx("span",{className:"opacity-80",children:"Total collection"}),t.jsx("span",{className:"text-2xl font-bold sm:mt-1",children:r.total===0?"-":`₱${r.total.toLocaleString(void 0,{minimumFractionDigits:2})}`})]}),t.jsxs("div",{className:"flex justify-between items-center text-sm sm:flex-col sm:items-start sm:gap-1",children:[t.jsx("span",{className:"opacity-80",children:"Cash"}),t.jsx("span",{className:"text-2xl font-bold sm:mt-1",children:r.cash===0?"-":`₱${r.cash.toLocaleString(void 0,{minimumFractionDigits:2})}`})]}),t.jsxs("div",{className:"flex justify-between items-center text-sm sm:flex-col sm:items-start sm:gap-1",children:[t.jsx("span",{className:"opacity-80",children:"GCash"}),t.jsx("span",{className:"text-2xl font-bold sm:mt-1",children:r.gcash===0?"-":`₱${r.gcash.toLocaleString(void 0,{minimumFractionDigits:2})}`})]}),t.jsxs("div",{className:"flex justify-between items-center text-sm sm:flex-col sm:items-start sm:gap-1",children:[t.jsx("span",{className:"opacity-80",children:"Bank transfer"}),t.jsx("span",{className:"text-2xl font-bold sm:mt-1",children:r.bank_transfer===0?"-":`₱${r.bank_transfer.toLocaleString(void 0,{minimumFractionDigits:2})}`})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsx("div",{className:"lg:col-span-1",children:t.jsx(Bt,{placeholder:"Search student",options:l.map(b=>({label:`${b.label}`,value:b.id.toString(),route:b.route,avatar:b.avatar?`/storage/${b.avatar}`:"/images/avatar-place-holder.png",badge:b.badge}))})}),t.jsxs("div",{className:"lg:col-span-2",children:[t.jsx("span",{className:"text-lg font-semibold",children:"Year levels"}),e.year_levels.length===0?t.jsx("p",{className:"text-muted-foreground mt-3",children:"No year levels found for this school year."}):t.jsx("div",{className:"grid mt-3 grid-cols-1 sm:grid-cols-2 md:grid-cols-2 xl:grid-cols-3 gap-6",children:e.year_levels.map(b=>t.jsxs(pe,{className:"hover:shadow transition-shadow h-full flex flex-col justify-between",children:[t.jsxs(xe,{className:"flex flex-row items-center gap-3",children:[t.jsx(Pe,{className:"text-muted-foreground w-6 h-6"}),t.jsx(ge,{className:"text-lg font-semibold",children:b.yearLevelName})]}),t.jsxs(ve,{className:"flex flex-col gap-3 mt-auto",children:[t.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[t.jsx(nt,{className:"w-4 h-4"}),b.student_count," student",b.student_count!==1?"s":""]}),t.jsxs(V,{variant:"btapink",onClick:()=>je.get(`/billing/year-level/${b.id}`),className:"mt-2",disabled:b.student_count===0,children:["View ",t.jsx(ke,{})]})]})]},b.id))})]})]})]})]})}export{lr as default};
