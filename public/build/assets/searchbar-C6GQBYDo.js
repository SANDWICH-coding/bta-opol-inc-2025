import{r,j as s}from"./app-oyOb_ZaZ.js";import{I as b}from"./input-Dg8oqSIW.js";import{S as p}from"./search-GwGhU3Kv.js";const v=({suggestions:i,onSelect:m,placeholder:x="Search..."})=>{const[n,u]=r.useState(""),[a,d]=r.useState([]),[g,l]=r.useState(0),[h,o]=r.useState(!1),c=r.useRef(null);r.useEffect(()=>{if(n.trim()==="")d([]),o(!1);else{const e=i.filter(t=>t.toLowerCase().includes(n.toLowerCase()));d(e),o(!0)}},[n,i]),r.useEffect(()=>{const e=t=>{c.current&&!c.current.contains(t.target)&&o(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const f=e=>{u(e),o(!1),m(e)},w=e=>{if(!(!h||a.length===0))switch(e.key){case"ArrowDown":l(t=>(t+1)%a.length);break;case"ArrowUp":l(t=>t===0?a.length-1:t-1);break;case"Enter":f(a[g]);break}};return s.jsxs("div",{ref:c,className:"relative w-full",children:[s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-muted-foreground",children:s.jsx(p,{className:"h-4 w-4"})}),s.jsx(b,{type:"text",placeholder:x,value:n,onChange:e=>{u(e.target.value),l(0)},onKeyDown:w,className:"pl-9 bg-muted/40"})]}),h&&a.length>0&&s.jsx("ul",{className:"absolute z-10 w-full mt-1 max-h-48 overflow-y-auto border rounded shadow bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:a.map((e,t)=>s.jsx("li",{onClick:()=>f(e),className:`px-4 py-2 cursor-pointer 
                                ${t===g?"bg-blue-100 dark:bg-blue-800 text-black dark:text-white":"hover:bg-gray-100 dark:hover:bg-gray-700 text-black dark:text-white"}`,children:e},e))})]})};export{v as S};
