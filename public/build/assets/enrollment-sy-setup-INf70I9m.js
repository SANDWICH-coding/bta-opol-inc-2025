import{r as m,j as r,U as f,t as K,L as ce,S as se}from"./app-Weu2sa_7.js";import{b as M,c as $,B as ie}from"./button-BmLIQtq1.js";import"./index-Dx_Nhtqa.js";import{c as B,R as ae,T as le,b as de}from"./index-ChwcMw_d.js";import{C as ue}from"./chevron-down-CFhqN4Z9.js";import{A as fe}from"./app-layout-CvqqPR6q.js";import{c as me}from"./app-logo-icon-B4Cg3R_B.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]],xe=me("Presentation",pe);function G(e,o=[]){let t=[];function s(n,a){const i=m.createContext(a),l=t.length;t=[...t,a];const x=d=>{var b;const{scope:v,children:g,...w}=d,h=((b=v==null?void 0:v[e])==null?void 0:b[l])||i,C=m.useMemo(()=>w,Object.values(w));return r.jsx(h.Provider,{value:C,children:g})};x.displayName=n+"Provider";function u(d,v){var h;const g=((h=v==null?void 0:v[e])==null?void 0:h[l])||i,w=m.useContext(g);if(w)return w;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${n}\``)}return[x,u]}const c=()=>{const n=t.map(a=>m.createContext(a));return function(i){const l=(i==null?void 0:i[e])||n;return m.useMemo(()=>({[`__scope${e}`]:{...i,[e]:l}}),[i,l])}};return c.scopeName=e,[s,ve(c,...o)]}function ve(...e){const o=e[0];if(e.length===1)return o;const t=()=>{const s=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(n){const a=s.reduce((i,{useScope:l,scopeName:x})=>{const d=l(n)[`__scope${x}`];return{...i,...d}},{});return m.useMemo(()=>({[`__scope${o.scopeName}`]:a}),[a])}};return t.scopeName=o.scopeName,t}function z(e,o){if(typeof e=="function")return e(o);e!=null&&(e.current=o)}function Ce(...e){return o=>{let t=!1;const s=e.map(c=>{const n=z(c,o);return!t&&typeof n=="function"&&(t=!0),n});if(t)return()=>{for(let c=0;c<s.length;c++){const n=s[c];typeof n=="function"?n():z(e[c],null)}}}}function E(...e){return m.useCallback(Ce(...e),e)}function he(e){const o=e+"CollectionProvider",[t,s]=G(o),[c,n]=t(o,{collectionRef:{current:null},itemMap:new Map}),a=h=>{const{scope:C,children:b}=h,p=f.useRef(null),A=f.useRef(new Map).current;return r.jsx(c,{scope:C,itemMap:A,collectionRef:p,children:b})};a.displayName=o;const i=e+"CollectionSlot",l=M(i),x=f.forwardRef((h,C)=>{const{scope:b,children:p}=h,A=n(i,b),I=E(C,A.collectionRef);return r.jsx(l,{ref:I,children:p})});x.displayName=i;const u=e+"CollectionItemSlot",d="data-radix-collection-item",v=M(u),g=f.forwardRef((h,C)=>{const{scope:b,children:p,...A}=h,I=f.useRef(null),j=E(C,I),N=n(u,b);return f.useEffect(()=>(N.itemMap.set(I,{ref:I,...A}),()=>void N.itemMap.delete(I))),r.jsx(v,{[d]:"",ref:j,children:p})});g.displayName=u;function w(h){const C=n(e+"CollectionConsumer",h);return f.useCallback(()=>{const p=C.collectionRef.current;if(!p)return[];const A=Array.from(p.querySelectorAll(`[${d}]`));return Array.from(C.itemMap.values()).sort((N,P)=>A.indexOf(N.ref.current)-A.indexOf(P.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:a,Slot:x,ItemSlot:g},w,s]}function ge(e,o,{checkForDefaultPrevented:t=!0}={}){return function(c){if(e==null||e(c),t===!1||!c.defaultPrevented)return o==null?void 0:o(c)}}var q=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},be=K[" useInsertionEffect ".trim().toString()]||q;function F({prop:e,defaultProp:o,onChange:t=()=>{},caller:s}){const[c,n,a]=Ae({defaultProp:o,onChange:t}),i=e!==void 0,l=i?e:c;{const u=m.useRef(e!==void 0);m.useEffect(()=>{const d=u.current;d!==i&&console.warn(`${s} is changing from ${d?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=i},[i,s])}const x=m.useCallback(u=>{var d;if(i){const v=Ie(u)?u(e):u;v!==e&&((d=a.current)==null||d.call(a,v))}else n(u)},[i,e,n,a]);return[l,x]}function Ae({defaultProp:e,onChange:o}){const[t,s]=m.useState(e),c=m.useRef(t),n=m.useRef(o);return be(()=>{n.current=o},[o]),m.useEffect(()=>{var a;c.current!==t&&((a=n.current)==null||a.call(n,t),c.current=t)},[t,c]),[t,s,n]}function Ie(e){return typeof e=="function"}var ye=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],H=ye.reduce((e,o)=>{const t=M(`Primitive.${o}`),s=m.forwardRef((c,n)=>{const{asChild:a,...i}=c,l=a?t:o;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(l,{...i,ref:n})});return s.displayName=`Primitive.${o}`,{...e,[o]:s}},{}),we=K[" useId ".trim().toString()]||(()=>{}),Ne=0;function je(e){const[o,t]=m.useState(we());return q(()=>{t(s=>s??String(Ne++))},[e]),o?`radix-${o}`:""}var Se=m.createContext(void 0);function Re(e){const o=m.useContext(Se);return e||o||"ltr"}var y="Accordion",_e=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[D,Pe,ke]=he(y),[R,et]=G(y,[ke,B]),O=B(),J=f.forwardRef((e,o)=>{const{type:t,...s}=e,c=s,n=s;return r.jsx(D.Provider,{scope:e.__scopeAccordion,children:t==="multiple"?r.jsx($e,{...n,ref:o}):r.jsx(Te,{...c,ref:o})})});J.displayName=y;var[Q,Me]=R(y),[W,Ee]=R(y,{collapsible:!1}),Te=f.forwardRef((e,o)=>{const{value:t,defaultValue:s,onValueChange:c=()=>{},collapsible:n=!1,...a}=e,[i,l]=F({prop:t,defaultProp:s??"",onChange:c,caller:y});return r.jsx(Q,{scope:e.__scopeAccordion,value:f.useMemo(()=>i?[i]:[],[i]),onItemOpen:l,onItemClose:f.useCallback(()=>n&&l(""),[n,l]),children:r.jsx(W,{scope:e.__scopeAccordion,collapsible:n,children:r.jsx(X,{...a,ref:o})})})}),$e=f.forwardRef((e,o)=>{const{value:t,defaultValue:s,onValueChange:c=()=>{},...n}=e,[a,i]=F({prop:t,defaultProp:s??[],onChange:c,caller:y}),l=f.useCallback(u=>i((d=[])=>[...d,u]),[i]),x=f.useCallback(u=>i((d=[])=>d.filter(v=>v!==u)),[i]);return r.jsx(Q,{scope:e.__scopeAccordion,value:a,onItemOpen:l,onItemClose:x,children:r.jsx(W,{scope:e.__scopeAccordion,collapsible:!0,children:r.jsx(X,{...n,ref:o})})})}),[De,_]=R(y),X=f.forwardRef((e,o)=>{const{__scopeAccordion:t,disabled:s,dir:c,orientation:n="vertical",...a}=e,i=f.useRef(null),l=E(i,o),x=Pe(t),d=Re(c)==="ltr",v=ge(e.onKeyDown,g=>{var V;if(!_e.includes(g.key))return;const w=g.target,h=x().filter(k=>{var U;return!((U=k.ref.current)!=null&&U.disabled)}),C=h.findIndex(k=>k.ref.current===w),b=h.length;if(C===-1)return;g.preventDefault();let p=C;const A=0,I=b-1,j=()=>{p=C+1,p>I&&(p=A)},N=()=>{p=C-1,p<A&&(p=I)};switch(g.key){case"Home":p=A;break;case"End":p=I;break;case"ArrowRight":n==="horizontal"&&(d?j():N());break;case"ArrowDown":n==="vertical"&&j();break;case"ArrowLeft":n==="horizontal"&&(d?N():j());break;case"ArrowUp":n==="vertical"&&N();break}const P=p%b;(V=h[P].ref.current)==null||V.focus()});return r.jsx(De,{scope:t,disabled:s,direction:c,orientation:n,children:r.jsx(D.Slot,{scope:t,children:r.jsx(H.div,{...a,"data-orientation":n,ref:l,onKeyDown:s?void 0:v})})})}),S="AccordionItem",[Oe,L]=R(S),Z=f.forwardRef((e,o)=>{const{__scopeAccordion:t,value:s,...c}=e,n=_(S,t),a=Me(S,t),i=O(t),l=je(),x=s&&a.value.includes(s)||!1,u=n.disabled||e.disabled;return r.jsx(Oe,{scope:t,open:x,disabled:u,triggerId:l,children:r.jsx(ae,{"data-orientation":n.orientation,"data-state":re(x),...i,...c,ref:o,disabled:u,open:x,onOpenChange:d=>{d?a.onItemOpen(s):a.onItemClose(s)}})})});Z.displayName=S;var Y="AccordionHeader",ee=f.forwardRef((e,o)=>{const{__scopeAccordion:t,...s}=e,c=_(y,t),n=L(Y,t);return r.jsx(H.h3,{"data-orientation":c.orientation,"data-state":re(n.open),"data-disabled":n.disabled?"":void 0,...s,ref:o})});ee.displayName=Y;var T="AccordionTrigger",te=f.forwardRef((e,o)=>{const{__scopeAccordion:t,...s}=e,c=_(y,t),n=L(T,t),a=Ee(T,t),i=O(t);return r.jsx(D.ItemSlot,{scope:t,children:r.jsx(le,{"aria-disabled":n.open&&!a.collapsible||void 0,"data-orientation":c.orientation,id:n.triggerId,...i,...s,ref:o})})});te.displayName=T;var oe="AccordionContent",ne=f.forwardRef((e,o)=>{const{__scopeAccordion:t,...s}=e,c=_(y,t),n=L(oe,t),a=O(t);return r.jsx(de,{role:"region","aria-labelledby":n.triggerId,"data-orientation":c.orientation,...a,...s,ref:o,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});ne.displayName=oe;function re(e){return e?"open":"closed"}var Le=J,Ve=Z,Ue=ee,ze=te,Ke=ne;function Be({...e}){return r.jsx(Le,{"data-slot":"accordion",...e})}function Ge({className:e,...o}){return r.jsx(Ve,{"data-slot":"accordion-item",className:$("border-b last:border-b-0",e),...o})}function qe({className:e,children:o,...t}){return r.jsx(Ue,{className:"flex",children:r.jsxs(ze,{"data-slot":"accordion-trigger",className:$("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",e),...t,children:[o,r.jsx(ue,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function Fe({className:e,children:o,...t}){return r.jsx(Ke,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...t,children:r.jsx("div",{className:$("pt-0 pb-4",e),children:o})})}function tt({schoolYear:e}){return r.jsxs(fe,{breadcrumbs:[{title:"Enrollment",href:"/registrar/"},{title:`${e.name}`,href:"#"}],children:[r.jsx(ce,{title:`${e.name}`}),r.jsx("div",{className:"w-full max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.year_levels.length===0?r.jsx("p",{className:"text-gray-500",children:"No year levels found for this school year."}):r.jsxs(Be,{type:"single",className:"p-5 border rounded-md shadow-sm",children:[r.jsx("span",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:e.name}),e.year_levels.map(o=>r.jsxs(Ge,{value:`year-${o.id}`,className:"mt-4 ml-4 mr-4",children:[r.jsx(qe,{children:o.yearLevelName}),r.jsx(Fe,{className:"pb-4 pt-2",children:o.class_arms.length===0?r.jsx("p",{className:"text-sm text-gray-500",children:"No section added."}):r.jsx("div",{className:"space-y-3",children:o.class_arms.map(t=>r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 p-3 dark:bg-gray-800 rounded-md border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-2 rounded-md",children:r.jsx(xe,{className:"w-4 h-4 text-blue-600 dark:text-blue-300"})}),r.jsx("p",{className:"text-sm font-bold text-gray-800 dark:text-white",children:t.classArmName})]}),r.jsx(ie,{size:"sm",className:"w-full sm:w-auto",onClick:()=>se.get(`/registrar/enrollment/class-arm-setup/${t.id}`),children:"Manage"})]},t.id))})})]},o.id))]})})]})}export{tt as default};
