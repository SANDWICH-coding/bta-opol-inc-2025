import{j as e}from"./app-CWAbBtiy.js";import{T as F,a as T,b as m,c as n,d as v,e as s}from"./table-CY0a4SEl.js";import"./utils-jAU0Cazi.js";function k({billingItems:p,discounts:b,payments:g}){return e.jsx("div",{children:e.jsxs(F,{children:[e.jsx(T,{children:e.jsxs(m,{className:"bg-gray-100 dark:bg-gray-800",children:[e.jsx(n,{children:"Item"}),e.jsx(n,{children:"Amount"}),e.jsx(n,{children:"Quantity"}),e.jsx(n,{children:"Discount"}),e.jsx(n,{children:"Subtotal"}),e.jsx(n,{children:"Balance"})]})}),e.jsx(v,{children:p.map(o=>{var j;const l=((j=o.category)==null?void 0:j.name)??"—",i=o.pivot.quantity,r=parseFloat(o.amount.toString()),c=r*i,d=b.filter(t=>{var a;return((a=t.category)==null?void 0:a.name)===l});let u=0,x="—";d.length>0&&(x=d.map(t=>{let a=0;return t.value==="fixed"?a=parseFloat(t.amount):t.value==="percentage"&&(a=c*parseFloat(t.amount)/100),u+=a,t.value==="percentage"?`${t.amount}%`:`₱${parseFloat(t.amount).toFixed(2)}`}).join(", "));const h=c-u,y=g.filter(t=>{var a;return((a=t.billing)==null?void 0:a.description)===o.description}).reduce((t,a)=>t+parseFloat(a.amount.toString()),0),f=h-y;return e.jsxs(m,{children:[e.jsx(s,{children:l}),e.jsxs(s,{children:["₱",r.toFixed(2)]}),e.jsxs(s,{children:["x ",i]}),e.jsx(s,{children:x}),e.jsxs(s,{children:["₱",h.toFixed(2)]}),e.jsxs(s,{children:["₱",Math.max(f,0).toFixed(2)]})]},o.id)})})]})})}export{k as BillingBreakdownTable};
