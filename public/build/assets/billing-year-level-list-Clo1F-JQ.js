import{j as e,r as l,S as Ne,L as Le,b as Ae}from"./app-Weu2sa_7.js";import{u as F,k as M,R as _e,P as ze,O as Fe,C as Oe,m as B,j as ke,g as Ve,h as Pe,i as Te,A as qe,G as Be}from"./app-layout-CvqqPR6q.js";import{C as re,a as se,b as le,c as ne}from"./card-C3fj6jM3.js";import{c as O,B as U}from"./button-BmLIQtq1.js";import{R as Ge,C as He,a as Ke}from"./index-ChwcMw_d.js";import{c as V}from"./app-logo-icon-B4Cg3R_B.js";import{B as Ue}from"./badge-hX7NjcnE.js";import{C as We}from"./chevron-down-CFhqN4Z9.js";import{D as Je,a as Xe,b as Ze,c as Qe}from"./dialog-BNnsGRUs.js";import{L as Ye}from"./loader-circle-CzVAy4Dl.js";import{F as et,C as tt,W as at}from"./wallet-cards-Y_FfHrde.js";import{A as T}from"./arrow-right-DrNgcYQs.js";import"./index-Dx_Nhtqa.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],st=V("CalendarDays",rt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 18h.01",key:"h775k"}]],nt=V("HardDriveDownload",lt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=[["path",{d:"M20 11H4",key:"6ut86h"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"M7 21V4a1 1 0 0 1 1-1h4a1 1 0 0 1 0 12H7",key:"1ana5r"}]],ot=V("PhilippinePeso",it);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],dt=V("Receipt",ct);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],mt=V("Search",ut);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],pt=V("UsersRound",ht);function ft({...t}){return e.jsx(Ge,{"data-slot":"collapsible",...t})}function xt({...t}){return e.jsx(He,{"data-slot":"collapsible-trigger",...t})}function gt({...t}){return e.jsx(Ke,{"data-slot":"collapsible-content",...t})}var je=1,vt=.9,bt=.8,jt=.17,ie=.1,oe=.999,yt=.9999,wt=.99,Nt=/[\\\/_+.#"@\[\(\{&]/,kt=/[\\\/_+.#"@\[\(\{&]/g,Ct=/[\s-]/,Ce=/[\s-]/g;function de(t,s,a,d,o,c,m){if(c===s.length)return o===t.length?je:wt;var f=`${o},${c}`;if(m[f]!==void 0)return m[f];for(var p=d.charAt(c),n=a.indexOf(p,o),x=0,h,k,w,R;n>=0;)h=de(t,s,a,d,n+1,c+1,m),h>x&&(n===o?h*=je:Nt.test(t.charAt(n-1))?(h*=bt,w=t.slice(o,n-1).match(kt),w&&o>0&&(h*=Math.pow(oe,w.length))):Ct.test(t.charAt(n-1))?(h*=vt,R=t.slice(o,n-1).match(Ce),R&&o>0&&(h*=Math.pow(oe,R.length))):(h*=jt,o>0&&(h*=Math.pow(oe,n-o))),t.charAt(n)!==s.charAt(c)&&(h*=yt)),(h<ie&&a.charAt(n-1)===d.charAt(c+1)||d.charAt(c+1)===d.charAt(c)&&a.charAt(n-1)!==d.charAt(c))&&(k=de(t,s,a,d,n+1,c+2,m),k*ie>h&&(h=k*ie)),h>x&&(x=h),n=a.indexOf(p,n+1);return m[f]=x,x}function ye(t){return t.toLowerCase().replace(Ce," ")}function St(t,s,a){return t=a&&a.length>0?`${t+" "+a.join(" ")}`:t,de(t,s,ye(t),ye(s),0,0,{})}var q='[cmdk-group=""]',ce='[cmdk-group-items=""]',Et='[cmdk-group-heading=""]',Se='[cmdk-item=""]',we=`${Se}:not([aria-disabled="true"])`,ue="cmdk-item-select",_="data-value",Rt=(t,s,a)=>St(t,s,a),Ee=l.createContext(void 0),G=()=>l.useContext(Ee),Re=l.createContext(void 0),me=()=>l.useContext(Re),Ie=l.createContext(void 0),Me=l.forwardRef((t,s)=>{let a=z(()=>{var r,u;return{search:"",value:(u=(r=t.value)!=null?r:t.defaultValue)!=null?u:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),d=z(()=>new Set),o=z(()=>new Map),c=z(()=>new Map),m=z(()=>new Set),f=$e(t),{label:p,children:n,value:x,onValueChange:h,filter:k,shouldFilter:w,loop:R,disablePointerSelection:b=!1,vimBindings:E=!0,...H}=t,J=F(),he=F(),X=F(),$=l.useRef(null),y=Vt();D(()=>{if(x!==void 0){let r=x.trim();a.current.value=r,C.emit()}},[x]),D(()=>{y(6,fe)},[]);let C=l.useMemo(()=>({subscribe:r=>(m.current.add(r),()=>m.current.delete(r)),snapshot:()=>a.current,setState:(r,u,g)=>{var i,v,j,S;if(!Object.is(a.current[r],u)){if(a.current[r]=u,r==="search")ee(),Q(),y(1,Y);else if(r==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let N=document.getElementById(X);N?N.focus():(i=document.getElementById(J))==null||i.focus()}if(y(7,()=>{var N;a.current.selectedItemId=(N=A())==null?void 0:N.id,C.emit()}),g||y(5,fe),((v=f.current)==null?void 0:v.value)!==void 0){let N=u??"";(S=(j=f.current).onValueChange)==null||S.call(j,N);return}}C.emit()}},emit:()=>{m.current.forEach(r=>r())}}),[]),Z=l.useMemo(()=>({value:(r,u,g)=>{var i;u!==((i=c.current.get(r))==null?void 0:i.value)&&(c.current.set(r,{value:u,keywords:g}),a.current.filtered.items.set(r,pe(u,g)),y(2,()=>{Q(),C.emit()}))},item:(r,u)=>(d.current.add(r),u&&(o.current.has(u)?o.current.get(u).add(r):o.current.set(u,new Set([r]))),y(3,()=>{ee(),Q(),a.current.value||Y(),C.emit()}),()=>{c.current.delete(r),d.current.delete(r),a.current.filtered.items.delete(r);let g=A();y(4,()=>{ee(),(g==null?void 0:g.getAttribute("id"))===r&&Y(),C.emit()})}),group:r=>(o.current.has(r)||o.current.set(r,new Set),()=>{c.current.delete(r),o.current.delete(r)}),filter:()=>f.current.shouldFilter,label:p||t["aria-label"],getDisablePointerSelection:()=>f.current.disablePointerSelection,listId:J,inputId:X,labelId:he,listInnerRef:$}),[]);function pe(r,u){var g,i;let v=(i=(g=f.current)==null?void 0:g.filter)!=null?i:Rt;return r?v(r,a.current.search,u):0}function Q(){if(!a.current.search||f.current.shouldFilter===!1)return;let r=a.current.filtered.items,u=[];a.current.filtered.groups.forEach(i=>{let v=o.current.get(i),j=0;v.forEach(S=>{let N=r.get(S);j=Math.max(N,j)}),u.push([i,j])});let g=$.current;P().sort((i,v)=>{var j,S;let N=i.getAttribute("id"),K=v.getAttribute("id");return((j=r.get(K))!=null?j:0)-((S=r.get(N))!=null?S:0)}).forEach(i=>{let v=i.closest(ce);v?v.appendChild(i.parentElement===v?i:i.closest(`${ce} > *`)):g.appendChild(i.parentElement===g?i:i.closest(`${ce} > *`))}),u.sort((i,v)=>v[1]-i[1]).forEach(i=>{var v;let j=(v=$.current)==null?void 0:v.querySelector(`${q}[${_}="${encodeURIComponent(i[0])}"]`);j==null||j.parentElement.appendChild(j)})}function Y(){let r=P().find(g=>g.getAttribute("aria-disabled")!=="true"),u=r==null?void 0:r.getAttribute(_);C.setState("value",u||void 0)}function ee(){var r,u,g,i;if(!a.current.search||f.current.shouldFilter===!1){a.current.filtered.count=d.current.size;return}a.current.filtered.groups=new Set;let v=0;for(let j of d.current){let S=(u=(r=c.current.get(j))==null?void 0:r.value)!=null?u:"",N=(i=(g=c.current.get(j))==null?void 0:g.keywords)!=null?i:[],K=pe(S,N);a.current.filtered.items.set(j,K),K>0&&v++}for(let[j,S]of o.current)for(let N of S)if(a.current.filtered.items.get(N)>0){a.current.filtered.groups.add(j);break}a.current.filtered.count=v}function fe(){var r,u,g;let i=A();i&&(((r=i.parentElement)==null?void 0:r.firstChild)===i&&((g=(u=i.closest(q))==null?void 0:u.querySelector(Et))==null||g.scrollIntoView({block:"nearest"})),i.scrollIntoView({block:"nearest"}))}function A(){var r;return(r=$.current)==null?void 0:r.querySelector(`${Se}[aria-selected="true"]`)}function P(){var r;return Array.from(((r=$.current)==null?void 0:r.querySelectorAll(we))||[])}function te(r){let u=P()[r];u&&C.setState("value",u.getAttribute(_))}function ae(r){var u;let g=A(),i=P(),v=i.findIndex(S=>S===g),j=i[v+r];(u=f.current)!=null&&u.loop&&(j=v+r<0?i[i.length-1]:v+r===i.length?i[0]:i[v+r]),j&&C.setState("value",j.getAttribute(_))}function xe(r){let u=A(),g=u==null?void 0:u.closest(q),i;for(;g&&!i;)g=r>0?Ft(g,q):Ot(g,q),i=g==null?void 0:g.querySelector(we);i?C.setState("value",i.getAttribute(_)):ae(r)}let ge=()=>te(P().length-1),ve=r=>{r.preventDefault(),r.metaKey?ge():r.altKey?xe(1):ae(1)},be=r=>{r.preventDefault(),r.metaKey?te(0):r.altKey?xe(-1):ae(-1)};return l.createElement(M.div,{ref:s,tabIndex:-1,...H,"cmdk-root":"",onKeyDown:r=>{var u;(u=H.onKeyDown)==null||u.call(H,r);let g=r.nativeEvent.isComposing||r.keyCode===229;if(!(r.defaultPrevented||g))switch(r.key){case"n":case"j":{E&&r.ctrlKey&&ve(r);break}case"ArrowDown":{ve(r);break}case"p":case"k":{E&&r.ctrlKey&&be(r);break}case"ArrowUp":{be(r);break}case"Home":{r.preventDefault(),te(0);break}case"End":{r.preventDefault(),ge();break}case"Enter":{r.preventDefault();let i=A();if(i){let v=new Event(ue);i.dispatchEvent(v)}}}}},l.createElement("label",{"cmdk-label":"",htmlFor:Z.inputId,id:Z.labelId,style:Tt},p),W(t,r=>l.createElement(Re.Provider,{value:C},l.createElement(Ee.Provider,{value:Z},r))))}),It=l.forwardRef((t,s)=>{var a,d;let o=F(),c=l.useRef(null),m=l.useContext(Ie),f=G(),p=$e(t),n=(d=(a=p.current)==null?void 0:a.forceMount)!=null?d:m==null?void 0:m.forceMount;D(()=>{if(!n)return f.item(o,m==null?void 0:m.id)},[n]);let x=De(o,c,[t.value,t.children,c],t.keywords),h=me(),k=I(y=>y.value&&y.value===x.current),w=I(y=>n||f.filter()===!1?!0:y.search?y.filtered.items.get(o)>0:!0);l.useEffect(()=>{let y=c.current;if(!(!y||t.disabled))return y.addEventListener(ue,R),()=>y.removeEventListener(ue,R)},[w,t.onSelect,t.disabled]);function R(){var y,C;b(),(C=(y=p.current).onSelect)==null||C.call(y,x.current)}function b(){h.setState("value",x.current,!0)}if(!w)return null;let{disabled:E,value:H,onSelect:J,forceMount:he,keywords:X,...$}=t;return l.createElement(M.div,{ref:B(c,s),...$,id:o,"cmdk-item":"",role:"option","aria-disabled":!!E,"aria-selected":!!k,"data-disabled":!!E,"data-selected":!!k,onPointerMove:E||f.getDisablePointerSelection()?void 0:b,onClick:E?void 0:R},t.children)}),Mt=l.forwardRef((t,s)=>{let{heading:a,children:d,forceMount:o,...c}=t,m=F(),f=l.useRef(null),p=l.useRef(null),n=F(),x=G(),h=I(w=>o||x.filter()===!1?!0:w.search?w.filtered.groups.has(m):!0);D(()=>x.group(m),[]),De(m,f,[t.value,t.heading,p]);let k=l.useMemo(()=>({id:m,forceMount:o}),[o]);return l.createElement(M.div,{ref:B(f,s),...c,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},a&&l.createElement("div",{ref:p,"cmdk-group-heading":"","aria-hidden":!0,id:n},a),W(t,w=>l.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":a?n:void 0},l.createElement(Ie.Provider,{value:k},w))))}),$t=l.forwardRef((t,s)=>{let{alwaysRender:a,...d}=t,o=l.useRef(null),c=I(m=>!m.search);return!a&&!c?null:l.createElement(M.div,{ref:B(o,s),...d,"cmdk-separator":"",role:"separator"})}),Dt=l.forwardRef((t,s)=>{let{onValueChange:a,...d}=t,o=t.value!=null,c=me(),m=I(n=>n.search),f=I(n=>n.selectedItemId),p=G();return l.useEffect(()=>{t.value!=null&&c.setState("search",t.value)},[t.value]),l.createElement(M.input,{ref:s,...d,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":p.listId,"aria-labelledby":p.labelId,"aria-activedescendant":f,id:p.inputId,type:"text",value:o?t.value:m,onChange:n=>{o||c.setState("search",n.target.value),a==null||a(n.target.value)}})}),Lt=l.forwardRef((t,s)=>{let{children:a,label:d="Suggestions",...o}=t,c=l.useRef(null),m=l.useRef(null),f=I(n=>n.selectedItemId),p=G();return l.useEffect(()=>{if(m.current&&c.current){let n=m.current,x=c.current,h,k=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let w=n.offsetHeight;x.style.setProperty("--cmdk-list-height",w.toFixed(1)+"px")})});return k.observe(n),()=>{cancelAnimationFrame(h),k.unobserve(n)}}},[]),l.createElement(M.div,{ref:B(c,s),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":f,"aria-label":d,id:p.listId},W(t,n=>l.createElement("div",{ref:B(m,p.listInnerRef),"cmdk-list-sizer":""},n)))}),At=l.forwardRef((t,s)=>{let{open:a,onOpenChange:d,overlayClassName:o,contentClassName:c,container:m,...f}=t;return l.createElement(_e,{open:a,onOpenChange:d},l.createElement(ze,{container:m},l.createElement(Fe,{"cmdk-overlay":"",className:o}),l.createElement(Oe,{"aria-label":t.label,"cmdk-dialog":"",className:c},l.createElement(Me,{ref:s,...f}))))}),_t=l.forwardRef((t,s)=>I(a=>a.filtered.count===0)?l.createElement(M.div,{ref:s,...t,"cmdk-empty":"",role:"presentation"}):null),zt=l.forwardRef((t,s)=>{let{progress:a,children:d,label:o="Loading...",...c}=t;return l.createElement(M.div,{ref:s,...c,"cmdk-loading":"",role:"progressbar","aria-valuenow":a,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},W(t,m=>l.createElement("div",{"aria-hidden":!0},m)))}),L=Object.assign(Me,{List:Lt,Item:It,Input:Dt,Group:Mt,Separator:$t,Dialog:At,Empty:_t,Loading:zt});function Ft(t,s){let a=t.nextElementSibling;for(;a;){if(a.matches(s))return a;a=a.nextElementSibling}}function Ot(t,s){let a=t.previousElementSibling;for(;a;){if(a.matches(s))return a;a=a.previousElementSibling}}function $e(t){let s=l.useRef(t);return D(()=>{s.current=t}),s}var D=typeof window>"u"?l.useEffect:l.useLayoutEffect;function z(t){let s=l.useRef();return s.current===void 0&&(s.current=t()),s}function I(t){let s=me(),a=()=>t(s.snapshot());return l.useSyncExternalStore(s.subscribe,a,a)}function De(t,s,a,d=[]){let o=l.useRef(),c=G();return D(()=>{var m;let f=(()=>{var n;for(let x of a){if(typeof x=="string")return x.trim();if(typeof x=="object"&&"current"in x)return x.current?(n=x.current.textContent)==null?void 0:n.trim():o.current}})(),p=d.map(n=>n.trim());c.value(t,f,p),(m=s.current)==null||m.setAttribute(_,f),o.current=f}),o}var Vt=()=>{let[t,s]=l.useState(),a=z(()=>new Map);return D(()=>{a.current.forEach(d=>d()),a.current=new Map},[t]),(d,o)=>{a.current.set(d,o),s({})}};function Pt(t){let s=t.type;return typeof s=="function"?s(t.props):"render"in s?s.render(t.props):t}function W({asChild:t,children:s},a){return t&&l.isValidElement(s)?l.cloneElement(Pt(s),{ref:s.ref},a(s.props.children)):a(s)}var Tt={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function qt({className:t,...s}){return e.jsx(L,{"data-slot":"command",className:O("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",t),...s})}function Bt({className:t,...s}){return e.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[e.jsx(mt,{className:"size-4 shrink-0 opacity-50"}),e.jsx(L.Input,{"data-slot":"command-input",className:O("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",t),...s})]})}function Gt({className:t,...s}){return e.jsx(L.List,{"data-slot":"command-list",className:O("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",t),...s})}function Ht({...t}){return e.jsx(L.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...t})}function Kt({className:t,...s}){return e.jsx(L.Group,{"data-slot":"command-group",className:O("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",t),...s})}function Ut({className:t,...s}){return e.jsx(L.Separator,{"data-slot":"command-separator",className:O("bg-border -mx-1 h-px",t),...s})}function Wt({className:t,...s}){return e.jsx(L.Item,{"data-slot":"command-item",className:O("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s})}function Jt({options:t,placeholder:s="Search...",className:a=""}){const[d,o]=l.useState(null),[c,m]=l.useState(!0),f=t.reduce((p,n)=>{const x=n.group||"Options";return p[x]||(p[x]=[]),p[x].push(n),p},{});return l.useEffect(()=>{const p=()=>{window.innerWidth<640&&m(!1)};return p(),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]),e.jsxs(ft,{open:c,onOpenChange:m,className:"w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-lg font-semibold",children:"Select a student"}),e.jsx(xt,{asChild:!0,children:e.jsx(U,{variant:"ghost",size:"sm",className:"p-0",children:c?e.jsx(We,{className:"w-4 h-4"}):e.jsx(ke,{className:"w-4 h-4"})})})]}),e.jsx(gt,{children:e.jsxs(qt,{className:`w-full h-full rounded-lg border shadow-md ${a}`,children:[e.jsx(Bt,{placeholder:s}),e.jsxs(Gt,{className:"w-full max-h-[543px] overflow-y-auto",children:[e.jsx(Ht,{children:"No results found."}),Object.entries(f).map(([p,n],x)=>e.jsxs("div",{children:[x>0&&e.jsx(Ut,{}),e.jsx(Kt,{heading:p,children:n.map(h=>e.jsxs(Wt,{onSelect:()=>{o(h.value),h.route&&Ne.get(h.route)},className:"flex items-center justify-between gap-3 px-3 py-2",children:[e.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[h.avatar&&e.jsxs(Ve,{className:"w-6 h-6 shrink-0",children:[e.jsx(Pe,{src:h.avatar,alt:h.label}),e.jsx(Te,{children:h.label[0]})]}),e.jsx("span",{className:"truncate",children:h.label})]}),h.badge&&e.jsx(Ue,{variant:"outline",className:"text-xs shrink-0",children:h.badge})]},h.value))})]},p))]})]})})]})}function ca({schoolYear:t,students:s,overview:a,overall:d}){l.useEffect(()=>{window.scrollTo({top:0,behavior:"instant"})},[]);const c=new Date().toLocaleDateString("en-PH",{month:"long",day:"numeric",year:"numeric"}),[m,f]=l.useState(!1),[p,n]=l.useState(!1),[x,h]=l.useState([]),[k,w]=l.useState(!1),R=async()=>{f(!0),n(!0),w(!1),h([]);try{const b=await Ae.post(`/billing/generate-soa/all-student/${t.id}`);h(b.data.results);const E=b.data.download_url;E&&(window.location.href=E),w(!0)}catch{h([{student:"Error",status:"error",message:"Something went wrong."}]),w(!0)}finally{n(!1)}};return e.jsxs(qe,{breadcrumbs:[{title:"Billing",href:"/billing/"},{title:`${t.name}`,href:"#"}],children:[e.jsx(Le,{title:`${t.name}`}),e.jsx(Je,{open:m,onOpenChange:f,children:e.jsxs(Xe,{className:"max-w-md sm:max-w-xl",children:[e.jsx(Ze,{children:e.jsx(Qe,{children:"Generating SOAs"})}),p&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-4",children:[e.jsx(Ye,{className:"animate-spin w-4 h-4"}),"Please wait while SOAs are being generated..."]}),e.jsx("div",{className:"bg-muted p-3 rounded-md max-h-72 overflow-y-auto space-y-1 text-sm",children:x.map((b,E)=>e.jsx("div",{children:b.status==="success"?e.jsxs("span",{className:"text-green-600",children:["✅ ",b.student]}):e.jsxs("span",{className:"text-red-600",children:["❌ ",b.student," - ",b.message]})},E))}),k&&e.jsx("div",{className:"text-right mt-4",children:e.jsx(U,{onClick:()=>f(!1),children:"Close"})})]})}),e.jsxs("div",{className:"p-4 space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:t.name}),e.jsxs(U,{variant:"btapinky",size:"lg",onClick:R,disabled:p,className:"w-full sm:w-auto flex items-center gap-2",children:[e.jsx(nt,{className:"w-4 h-4"}),p?"Generating...":"Generate SOA"]})]}),e.jsxs(re,{className:"w-full mb-6 bg-primary text-white dark:bg-white dark:text-black shadow-md",children:[e.jsx(se,{children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs(le,{className:"text-white dark:text-black flex items-center gap-2",children:[e.jsx(st,{className:"w-5 h-5"}),"Today's transaction ",e.jsxs("span",{className:"font-normal",children:["(",c,")"]})]})})}),e.jsxs(ne,{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-5 gap-4 mt-2",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm sm:flex-col sm:items-start sm:gap-1",children:[e.jsx("span",{className:"opacity-80",children:"OR Issued"}),e.jsx("span",{className:"text-2xl font-bold sm:mt-1",children:a.or_issued===0?"-":a.or_issued.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm sm:flex-col sm:items-start sm:gap-1",children:[e.jsx("span",{className:"opacity-80",children:"Total collection"}),e.jsx("span",{className:"text-2xl font-bold sm:mt-1",children:a.total===0?"-":`₱${a.total.toLocaleString(void 0,{minimumFractionDigits:2})}`})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm sm:flex-col sm:items-start sm:gap-1",children:[e.jsx("span",{className:"opacity-80",children:"Cash"}),e.jsx("span",{className:"text-2xl font-bold sm:mt-1",children:a.cash===0?"-":`₱${a.cash.toLocaleString(void 0,{minimumFractionDigits:2})}`})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm sm:flex-col sm:items-start sm:gap-1",children:[e.jsx("span",{className:"opacity-80",children:"GCash"}),e.jsx("span",{className:"text-2xl font-bold sm:mt-1",children:a.gcash===0?"-":`₱${a.gcash.toLocaleString(void 0,{minimumFractionDigits:2})}`})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm sm:flex-col sm:items-start sm:gap-1",children:[e.jsx("span",{className:"opacity-80",children:"Bank transfer"}),e.jsx("span",{className:"text-2xl font-bold sm:mt-1",children:a.bank_transfer===0?"-":`₱${a.bank_transfer.toLocaleString(void 0,{minimumFractionDigits:2})}`})]})]})]}),e.jsxs(re,{className:"w-full mt-6",children:[e.jsx(se,{children:e.jsx(le,{children:"Overview"})}),e.jsx(ne,{children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative group bg-green-100 text-green-900 rounded-xl p-6 overflow-hidden flex flex-col justify-between min-h-[140px]",children:[e.jsx("div",{className:"absolute right-2 bottom-2 transform scale-[2.5] rotate-12 opacity-10 pointer-events-none",children:e.jsx(et,{className:"w-12 h-12 text-green-800"})}),e.jsxs("div",{className:"z-10 relative",children:[e.jsx("p",{className:"text-sm font-medium",children:"OR Issued"}),e.jsx("p",{className:"text-2xl font-bold",children:d.or_issued===0?"-":d.or_issued.toLocaleString()})]}),e.jsx("div",{className:"relative z-10 mt-4",children:e.jsxs("button",{className:"opacity-0 group-hover:opacity-100 transition-opacity text-sm text-green-800 hover:underline flex items-center gap-1",onClick:()=>console.log("View more ORs clicked"),children:["View more ",e.jsx(T,{className:"w-4 h-4"})]})})]}),e.jsxs("div",{className:"relative group bg-blue-100 text-blue-900 rounded-xl p-6 overflow-hidden flex flex-col justify-between min-h-[140px]",children:[e.jsx("div",{className:"absolute right-2 bottom-2 transform scale-[2.5] rotate-12 opacity-10 pointer-events-none",children:e.jsx(dt,{className:"w-12 h-12 text-blue-800"})}),e.jsxs("div",{className:"z-10 relative",children:[e.jsx("p",{className:"text-sm font-medium",children:"Total Transactions"}),e.jsx("p",{className:"text-2xl font-bold",children:d.total===0?"-":`₱${d.total.toLocaleString(void 0,{minimumFractionDigits:2})}`})]}),e.jsx("div",{className:"relative z-10 mt-4",children:e.jsxs("button",{className:"opacity-0 group-hover:opacity-100 transition-opacity text-sm text-blue-800 hover:underline flex items-center gap-1",onClick:()=>console.log("View more ORs clicked"),children:["View more ",e.jsx(T,{className:"w-4 h-4"})]})})]}),e.jsxs("div",{className:"relative group bg-yellow-100 text-yellow-900 rounded-xl p-6 overflow-hidden flex flex-col justify-between min-h-[140px]",children:[e.jsx("div",{className:"absolute right-2 bottom-2 transform scale-[2.5] rotate-12 opacity-10 pointer-events-none",children:e.jsx(ot,{className:"w-12 h-12 text-yellow-700"})}),e.jsxs("div",{className:"z-10 relative",children:[e.jsx("p",{className:"text-sm font-medium",children:"Cash"}),e.jsx("p",{className:"text-2xl font-bold",children:d.cash===0?"-":`₱${d.cash.toLocaleString(void 0,{minimumFractionDigits:2})}`})]}),e.jsx("div",{className:"relative z-10 mt-4",children:e.jsxs("button",{className:"opacity-0 group-hover:opacity-100 transition-opacity text-sm text-yellow-800 hover:underline flex items-center gap-1",onClick:()=>console.log("View more cash transactions"),children:["View more ",e.jsx(T,{className:"w-4 h-4"})]})})]}),e.jsxs("div",{className:"relative group bg-purple-100 text-purple-900 rounded-xl p-6 overflow-hidden flex flex-col justify-between min-h-[140px]",children:[e.jsx("div",{className:"absolute right-2 bottom-2 transform scale-[2.5] rotate-12 opacity-10 pointer-events-none",children:e.jsx(tt,{className:"w-13 h-13 text-purple-700"})}),e.jsxs("div",{className:"z-10 relative",children:[e.jsx("p",{className:"text-sm font-medium",children:"GCash"}),e.jsx("p",{className:"text-2xl font-bold",children:d.gcash===0?"-":`₱${d.gcash.toLocaleString(void 0,{minimumFractionDigits:2})}`})]}),e.jsx("div",{className:"relative z-10 mt-4",children:e.jsxs("button",{className:"opacity-0 group-hover:opacity-100 transition-opacity text-sm text-purple-800 hover:underline flex items-center gap-1",onClick:()=>console.log("View GCash details"),children:["View more ",e.jsx(T,{className:"w-4 h-4"})]})})]}),e.jsxs("div",{className:"relative group bg-purple-200 text-purple-900 rounded-xl p-6 overflow-hidden flex flex-col justify-between min-h-[140px]",children:[e.jsx("div",{className:"absolute right-2 bottom-2 transform scale-[2.5] rotate-12 opacity-10 pointer-events-none",children:e.jsx(at,{className:"w-13 h-13 text-purple-800"})}),e.jsxs("div",{className:"z-10 relative",children:[e.jsx("p",{className:"text-sm font-medium",children:"Bank Transfer"}),e.jsx("p",{className:"text-2xl font-bold",children:d.bank_transfer===0?"-":`₱${d.bank_transfer.toLocaleString(void 0,{minimumFractionDigits:2})}`})]}),e.jsx("div",{className:"relative z-10 mt-4",children:e.jsxs("button",{className:"opacity-0 group-hover:opacity-100 transition-opacity text-sm text-purple-800 hover:underline flex items-center gap-1",onClick:()=>console.log("View bank transfer details"),children:["View more ",e.jsx(T,{className:"w-4 h-4"})]})})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx(Jt,{placeholder:"Search student",options:s.map(b=>({label:`${b.label}`,value:b.id.toString(),route:b.route,avatar:b.avatar?`/storage/${b.avatar}`:"/images/avatar-place-holder.png",badge:b.badge}))})}),e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("span",{className:"text-lg font-semibold",children:"Year levels"}),t.year_levels.length===0?e.jsx("p",{className:"text-muted-foreground mt-3",children:"No year levels found for this school year."}):e.jsx("div",{className:"grid mt-3 grid-cols-1 sm:grid-cols-2 md:grid-cols-2 xl:grid-cols-3 gap-6",children:t.year_levels.map(b=>e.jsxs(re,{className:"hover:shadow transition-shadow h-full flex flex-col justify-between",children:[e.jsxs(se,{className:"flex flex-row items-center gap-3",children:[e.jsx(Be,{className:"text-muted-foreground w-6 h-6"}),e.jsx(le,{className:"text-lg font-semibold",children:b.yearLevelName})]}),e.jsxs(ne,{className:"flex flex-col gap-3 mt-auto",children:[e.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[e.jsx(pt,{className:"w-4 h-4"}),b.student_count," student",b.student_count!==1?"s":""]}),e.jsxs(U,{variant:"btapink",onClick:()=>Ne.get(`/billing/year-level/${b.id}`),className:"mt-2",disabled:b.student_count===0,children:["View ",e.jsx(ke,{})]})]})]},b.id))})]})]})]})]})}export{ca as default};
